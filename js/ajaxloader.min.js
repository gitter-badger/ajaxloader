function AjaxLoader(e,t){function n(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function r(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)}function b(){d=s>=32?s>=128?72:36:18,v=.5*s*o,m=2*Math.PI/d;if(f){p=-a/g}else{p=a/g}l.width=s;l.height=s}function w(e){var t=2*Math.PI*e;var n=Math.cos(t),r=Math.sin(t),i=.5*s*(1+n),o=.5*s*(1-r),a=i-v*n,l=o+v*r;y.clearRect(0,0,s,s);for(var c=0;c<d;c++){y.beginPath();if(f){y.fillStyle="rgba("+u.r+","+u.g+","+u.b+","+(d-1-c)/(d-1)+")"}else{y.fillStyle="rgba("+u.r+","+u.g+","+u.b+","+c/(d-1)+")"}y.moveTo(i,o);y.lineTo(a,l);t+=m,n=Math.cos(t);r=Math.sin(t);i=.5*s*(1+n);o=.5*s*(1-r);a=i-v*n;l=o+v*r;y.lineTo(a,l);y.lineTo(i,o);y.closePath();y.fill()}}var i={size:32,factor:.25,speed:1,color:"#000",clockwise:true};var s=t.size||i.size,o=t.factor||i.factor,u=n(t.color||i.color),a=t.speed||i.speed,f=t.clockwise||i.clockwise,l=document.getElementById(e),c,h=0,p,d,v,m,g=30;if(l==null){console.log('AjaxLoader Error! Cannot find canvas element by id "'+e+'"');return null}var y=l.getContext("2d");b();this.show=function(){l.removeAttribute("style");clearInterval(c);c=setInterval(function(){w(h);h+=p;h=h-Math.floor(h)},1e3/g)};this.hide=function(){clearInterval(c);l.style.display="none"};this.getSize=function(){return s};this.setSize=function(e){s=e;b()};this.getFactor=function(){return o};this.setFactor=function(e){o=e;b()};this.getSpeed=function(){return a};this.setSpeed=function(e){a=e;b()};this.getColor=function(){return r(u.r,u.g,u.b)};this.setColor=function(e){u=n(e)};this.getClockwise=function(){return f};this.setClockwise=function(e){f=e;b()}}